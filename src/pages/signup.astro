---

---

<html>
  <body>
    <h1>Sign Up</h1>
    <div>
      <input type="text" id="signupUsername" name="username" placeholder="Username" required />
      <input type="password" id="signupPassword" name="password" placeholder="Password" required />
      <input type="text" id="signupDisplayName" name="displayname" placeholder="Display Name" />
      <input type="text" id="signupProfilePic" name="profilepic" placeholder="Profile Picture URL" />
      <button id="signupButton">Sign Up</button>
    </div>
    <script>
      document.getElementById('signupButton').addEventListener('click', async (event) => {
        event.preventDefault()
        const username = (document.getElementById("signupUsername") as HTMLInputElement).value
        const password = (document.getElementById("signupPassword") as HTMLInputElement).value
        const displayname = (document.getElementById("signupDisplayName") as HTMLInputElement).value
        const profilepic = (document.getElementById("signupProfilePic") as HTMLInputElement).value

        const response = await fetch('/api/signup', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ username, password, displayname, profilepic })
        })

        const data = await response.json()

        if (data.success) {
            document.cookie = `${data.sessionCookie.name}=${data.sessionCookie.value}; ${data.sessionCookie.attributes}`
            window.location.href = "/"
        } else {
            alert(data.message)
        }
      })
    </script>
  </body>
</html>